<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <style>
        canvas {
            position:absolute;
            top:50%;
            left:50%;
            transform:translate(-50%,-50%);
            border:2px black solid;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        let canvassize;
        const graphsize = 10;
        const pointsize = 4;
        window.onresize = setup;
        let pointlist = [];
        let 再描画中;
        setup();

        function setup(){
            canvassize = Math.min(window.innerWidth,window.innerHeight)*0.9;
            canvas.width = canvassize;
            canvas.height = canvassize;
            draw();
        }

        function draw(){
            ctx.clearRect(0,0,canvassize,canvassize);
            ctx.beginPath();
            // x軸
            ctx.moveTo(0,canvassize/2);
            ctx.lineTo(canvassize,canvassize/2);
            // y軸
            ctx.moveTo(canvassize/2,0);
            ctx.lineTo(canvassize/2,canvassize);
            ctx.stroke();
            // 描画した点を再描画
            再描画中 = true;
            for(const point of pointlist){
                dotpoint(point.x,point.y);
            }
            再描画中 = false;
        }

        function calc(p){
            return canvassize*Math.abs(p+graphsize)/(2*graphsize);
        }

        function dotpoint(x,y){
            ctx.beginPath();
            ctx.arc(calc(x),calc(-y),pointsize,0,2*Math.PI);
            ctx.fill();
            if(!再描画中){
            pointlist.push({x:x,y:y});
            };
        }

        function randompoint(){
            dotpoint(20*Math.random()-10,20*Math.random()-10);
        }
    </script>
</body>
</html>