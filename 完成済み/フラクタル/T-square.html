<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        function draw() {
            const Maxsize = Math.min(window.innerWidth,window.innerHeight);
            ctx.clearRect(0,0,Maxsize,Maxsize);
            ctx.fillRect(0,0,Maxsize,Maxsize);
            square(0,0,Maxsize,10);
        }

        function square(x,y,size,count){
            if(count==0){return};
            ctx.clearRect(x+size/4,y+size/4,size/2,size/2);
            for(let i=0;i<2;i++){
                for(let j=0;j<2;j++){
                    square(x+i*size/2,y+j*size/2,size/2,count-1);
                }
            }
        }

        // リサイズしたら再描画する
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            sidesize = Math.min(canvas.width,canvas.height);
            draw();
        }
        window.addEventListener("resize", resizeCanvas);

        // 読み込み時にも再描画
        resizeCanvas();
    </script>
</body>
</html>